
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Celestial-structure-based AI memory management">
      
      
      
        <link rel="canonical" href="https://stellar-memory.com/docs/archive/2026-02/stellar-memory-p7/stellar-memory-p7.plan/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Plan: stellar-memory-p7 - Stellar Memory</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#plan-stellar-memory-p7" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Stellar Memory" class="md-header__button md-logo" aria-label="Stellar Memory" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Stellar Memory
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Plan: stellar-memory-p7
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/sangjun0000/stellar-memory" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    sangjun0000/stellar-memory
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Stellar Memory" class="md-nav__button md-logo" aria-label="Stellar Memory" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Stellar Memory
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sangjun0000/stellar-memory" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    sangjun0000/stellar-memory
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../api-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/chatbot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI Chatbot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/personal-assistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Personal Assistant
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/code-assistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Assistant
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/knowledge-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    MCP Integration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    MCP Integration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp/claude-code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Claude Code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp/cursor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cursor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../mcp/tool-catalog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tool Catalog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../rest-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    REST API
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 개요
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 개요">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 배경
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 핵심 철학
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 목표
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 기능 명세
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 기능 명세">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#f1-emotional-memory-engine" class="md-nav__link">
    <span class="md-ellipsis">
      
        F1: 감성 기억 엔진 (Emotional Memory Engine)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f2-memory-stream" class="md-nav__link">
    <span class="md-ellipsis">
      
        F2: 기억 스트림 &amp; 타임라인 (Memory Stream)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f3-pypi-docker" class="md-nav__link">
    <span class="md-ellipsis">
      
        F3: PyPI 패키지 &amp; Docker 이미지
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f4-rest-api-standalone-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        F4: REST API 서버 모드 (Standalone Server)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f5-ai-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      
        F5: AI 플러그인 SDK &amp; 문서화
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 기술 스택
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 기술 스택">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 기존 기술 (유지)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-p7" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 P7 추가 기술
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 구현 순서
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. 하위 호환성
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 하위 호환성">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-p1p6" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 호환성 원칙 (P1~P6 전통 유지)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 선택적 의존성 확장
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. 성공 기준
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. 리스크 및 완화
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. 예상 산출물
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="plan-stellar-memory-p7">Plan: stellar-memory-p7</h1>
<blockquote>
<p><strong>Feature</strong>: AI 기억 플러그인 - 천체구조 기반 독립 기억 모듈 상용화
<strong>Version</strong>: v0.8.0
<strong>Created</strong>: 2026-02-17
<strong>Status</strong>: Draft</p>
</blockquote>
<hr />
<h2 id="1">1. 개요</h2>
<h3 id="11">1.1 배경</h3>
<p>P1~P6을 통해 Stellar Memory는 420개 테스트, 47개 소스 파일, 평균 97% 설계 일치율을 달성한 엔터프라이즈급 기억 플랫폼이 되었습니다. 그러나 현재 구조는 <strong>독립 라이브러리</strong> 형태이며, 기존 AI(Claude, GPT, Gemini 등)에 <strong>즉시 삽입(plug-in)</strong> 하기에는 진입 장벽이 존재합니다.</p>
<p>P7의 핵심 목표는 <strong>"기존 AI에 삽입할 수 있는 독립 기억 프로그램"</strong> 을 만드는 것입니다.</p>
<h3 id="12">1.2 핵심 철학</h3>
<p>우주의 천체구조를 모방한 기억 시스템:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>┌─────────────────────────────────────────────────────┐
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>│                   Oort Cloud (Cloud)                 │
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>│        ┌─────────────────────────────────┐           │
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>│        │       Asteroid Belt (Belt)       │           │
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>│        │    ┌───────────────────────┐     │           │
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>│        │    │    Outer Planets      │     │           │
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>│        │    │  ┌─────────────────┐  │     │           │
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>│        │    │  │  Inner Planets  │  │     │           │
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>│        │    │  │  ┌───────────┐  │  │     │           │
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>│        │    │  │  │   ☀ Sun   │  │  │     │           │
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>│        │    │  │  │  (Core)   │  │  │     │           │
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>│        │    │  │  │ 핵심 기억 │  │  │     │           │
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>│        │    │  │  └───────────┘  │  │     │           │
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>│        │    │  │  자주 쓰는 기억 │  │     │           │
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>│        │    │  └─────────────────┘  │     │           │
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>│        │    │    일반 기억          │     │           │
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>│        │    └───────────────────────┘     │           │
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>│        │       희미한 기억                │           │
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>│        └─────────────────────────────────┘           │
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>│                   잊혀지는 기억 → 자동 삭제           │
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>└─────────────────────────────────────────────────────┘
</code></pre></div>
<p><strong>기억 함수 (Memory Function)</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>I(m) = w₁·R(m) + w₂·F(m) + w₃·A(m) + w₄·C(m) + w₅·E(m)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>R(m) = log(recall_count + 1) / log(max_recall + 1)
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>       → 로그 함수로 블랙홀 방지 (아무리 리콜해도 임계값 초과 불가)
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>F(m) = -α × (현재시간 - 마지막_리콜_시간)
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>       → 리콜 시 0으로 초기화, 이후 음수로 절대값 증가
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>A(m) = AI가 내용 분석하여 자동 판단 (0.0~1.0)
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>       → 임의 중요도: AI가 알아서 판단
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>C(m) = 현재 대화와의 관련성 (컨텍스트 점수)
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>E(m) = 감정 강도 (P7 신규) - 감정이 강한 기억은 더 오래 유지
</code></pre></div></p>
<p><strong>블랙홀 방지 메커니즘</strong>:
- <strong>리콜 점수</strong>: <code>log</code> 함수 적용 → 아무리 자주 호출해도 임계값 불가
- <strong>신선도</strong>: 리콜 후 0 초기화, 미리콜 시 음수 증가 → 자연 망각
- <strong>임의 중요도</strong>: AI 자체 판단 → 과도한 집중 방지
- 결과: 주기적 재배치(reorbit)로 사람처럼 기억 관리</p>
<h3 id="13">1.3 목표</h3>
<table>
<thead>
<tr>
<th>목표</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AI 플러그인화</strong></td>
<td>어떤 AI에든 3줄 코드로 기억 능력 부여</td>
</tr>
<tr>
<td><strong>감성 기억</strong></td>
<td>감정 차원 추가로 인간과 더 유사한 기억</td>
</tr>
<tr>
<td><strong>상용화 패키징</strong></td>
<td>PyPI, Docker, REST API 서버 모드</td>
</tr>
<tr>
<td><strong>SDK &amp; 문서</strong></td>
<td>개발자가 바로 쓸 수 있는 완전한 패키지</td>
</tr>
<tr>
<td><strong>MCP 원클릭</strong></td>
<td>Claude Code 등 MCP 지원 AI에 즉시 연결</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="2">2. 기능 명세</h2>
<h3 id="f1-emotional-memory-engine">F1: 감성 기억 엔진 (Emotional Memory Engine)</h3>
<p><strong>우선순위</strong>: High | <strong>복잡도</strong>: Medium | <strong>신규 파일</strong>: 2개</p>
<p>감정이 기억의 수명과 중요도에 영향을 미치는 인간 유사 기억 시스템.</p>
<p><strong>요구사항</strong>:
- <code>EmotionAnalyzer</code> 클래스: 텍스트에서 감정 벡터 추출
  - 6가지 기본 감정: joy, sadness, anger, fear, surprise, disgust
  - 감정 강도(intensity): 0.0~1.0 float
  - LLM 기반 분석 + 규칙 기반 fallback (LLM 없을 때)
- 기억 함수 확장: <code>I(m) += w₅·E(m)</code>
  - E(m) = max(emotion_vector) × emotion_intensity
  - 감정 가중치 w₅ 기본값: 0.15
- 감정 기반 검색: <code>recall(query, emotion="joy")</code>
  - 특정 감정 필터링, 감정 유사도 기반 정렬
- 감정 기반 Decay 조절:
  - 감정 강도 &gt; 0.7 → decay_rate × 0.5 (천천히 잊음)
  - 감정 강도 &lt; 0.3 → decay_rate × 1.5 (빨리 잊음)</p>
<p><strong>구현 파일</strong>:
- <code>stellar_memory/emotion.py</code> (EmotionAnalyzer, EmotionVector)
- <code>stellar_memory/models.py</code> (EmotionData 모델 추가)
- <code>stellar_memory/memory_function.py</code> (E(m) 항 추가)
- <code>stellar_memory/config.py</code> (emotion 설정 추가)</p>
<p><strong>테스트</strong>: 15+개
- 감정 분석 정확도, 감정 기반 검색, Decay 조절, 기억 함수 통합</p>
<hr />
<h3 id="f2-memory-stream">F2: 기억 스트림 &amp; 타임라인 (Memory Stream)</h3>
<p><strong>우선순위</strong>: Medium | <strong>복잡도</strong>: Medium | <strong>신규 파일</strong>: 1개</p>
<p>시간순 기억 흐름과 내러티브 생성.</p>
<p><strong>요구사항</strong>:
- <code>MemoryStream</code> 클래스:
  - <code>timeline(start, end)</code>: 시간 범위 내 기억 시간순 조회
  - <code>narrate(topic)</code>: LLM이 기억들을 엮어 스토리 형태로 정리
  - <code>summarize_period(start, end)</code>: 특정 기간 자동 요약
- 타임라인 포맷:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="p">[</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>  <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;2026-02-01 10:00&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="s2">&quot;zone&quot;</span><span class="p">:</span> <span class="s2">&quot;Core&quot;</span><span class="p">,</span> <span class="s2">&quot;emotion&quot;</span><span class="p">:</span> <span class="s2">&quot;joy&quot;</span><span class="p">},</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>  <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;2026-02-01 14:30&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="s2">&quot;zone&quot;</span><span class="p">:</span> <span class="s2">&quot;Inner&quot;</span><span class="p">,</span> <span class="s2">&quot;emotion&quot;</span><span class="p">:</span> <span class="s2">&quot;neutral&quot;</span><span class="p">},</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="p">]</span>
</code></pre></div>
- 구간 자동 요약: 긴 타임라인은 LLM으로 구간별 요약 생성
- StellarMemory 메인 클래스에 <code>timeline()</code>, <code>narrate()</code> 메서드 추가</p>
<p><strong>구현 파일</strong>:
- <code>stellar_memory/stream.py</code> (MemoryStream)
- <code>stellar_memory/stellar.py</code> (timeline/narrate 메서드 추가)</p>
<p><strong>테스트</strong>: 12+개
- 시간 범위 조회, 정렬 정확도, 내러티브 생성, 빈 구간 처리</p>
<hr />
<h3 id="f3-pypi-docker">F3: PyPI 패키지 &amp; Docker 이미지</h3>
<p><strong>우선순위</strong>: Critical | <strong>복잡도</strong>: High | <strong>신규 파일</strong>: 4개</p>
<p>실제 사용자가 바로 설치/실행할 수 있는 패키징.</p>
<p><strong>요구사항</strong>:
- PyPI 패키지:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>pip<span class="w"> </span>install<span class="w"> </span>stellar-memory<span class="w">                  </span><span class="c1"># 코어만</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>pip<span class="w"> </span>install<span class="w"> </span>stellar-memory<span class="o">[</span>ai<span class="o">]</span><span class="w">              </span><span class="c1"># + LLM 프로바이더</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>pip<span class="w"> </span>install<span class="w"> </span>stellar-memory<span class="o">[</span>postgres<span class="o">]</span><span class="w">        </span><span class="c1"># + PostgreSQL</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>pip<span class="w"> </span>install<span class="w"> </span>stellar-memory<span class="o">[</span>full<span class="o">]</span><span class="w">            </span><span class="c1"># 모든 기능</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>pip<span class="w"> </span>install<span class="w"> </span>stellar-memory<span class="o">[</span>server<span class="o">]</span><span class="w">          </span><span class="c1"># + REST API 서버</span>
</code></pre></div>
- <code>pyproject.toml</code> 정리:
  - 의존성 그룹 정리 (core, ai, postgres, redis, security, sync, connectors, dashboard, server, full)
  - 진입점(entry_points): <code>stellar-memory</code> CLI, <code>stellar-memory-server</code> REST API
  - 메타데이터: 설명, 라이선스, 분류자, README
- Dockerfile:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c"># 코어 이미지</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">FROM</span><span class="w"> </span><span class="s">python:3.11-slim</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="k">RUN</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>stellar-memory<span class="o">[</span>server<span class="o">]</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;stellar-memory&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;serve&quot;</span><span class="p">]</span>
</code></pre></div>
  - Multi-stage build: 빌드/실행 분리
  - 환경변수로 설정: <code>STELLAR_DB_PATH</code>, <code>STELLAR_LLM_PROVIDER</code>, etc.
- docker-compose.yml: 풀스택 (stellar + postgres + redis)</p>
<p><strong>구현 파일</strong>:
- <code>pyproject.toml</code> (수정 - 패키지 메타데이터 완성)
- <code>Dockerfile</code> (신규)
- <code>docker-compose.yml</code> (신규)
- <code>.dockerignore</code> (신규)
- <code>stellar_memory/__init__.py</code> (public API 정리)</p>
<p><strong>테스트</strong>: 8+개
- 패키지 임포트, CLI 진입점, 환경변수 설정, public API 노출</p>
<hr />
<h3 id="f4-rest-api-standalone-server">F4: REST API 서버 모드 (Standalone Server)</h3>
<p><strong>우선순위</strong>: High | <strong>복잡도</strong>: High | <strong>신규 파일</strong>: 2개</p>
<p>독립 실행 가능한 REST API 서버로, 어떤 AI/앱에서든 HTTP로 기억 접근.</p>
<p><strong>요구사항</strong>:
- FastAPI 기반 REST API 서버:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>POST   /api/v1/store          기억 저장
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>GET    /api/v1/recall          기억 검색 (query param)
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>DELETE /api/v1/forget/{id}     기억 삭제
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>GET    /api/v1/memories        전체 기억 목록 (페이지네이션)
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>GET    /api/v1/timeline        타임라인 조회
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>POST   /api/v1/narrate         내러티브 생성
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>GET    /api/v1/stats           통계
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>GET    /api/v1/health          헬스체크
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>GET    /api/v1/events          SSE 실시간 이벤트
</code></pre></div>
- API 키 인증: <code>X-API-Key</code> 헤더 또는 Bearer 토큰
- CORS 설정: 기본 허용, 설정으로 제한 가능
- OpenAPI(Swagger) 자동 문서 생성
- CLI 통합: <code>stellar-memory serve --host 0.0.0.0 --port 9000</code>
- Rate Limiting: 분당 요청 제한 (기본 60/분)</p>
<p><strong>구현 파일</strong>:
- <code>stellar_memory/server.py</code> (FastAPI 앱, 라우트, 미들웨어)
- <code>stellar_memory/cli.py</code> (serve 커맨드 추가)
- <code>stellar_memory/config.py</code> (ServerConfig 추가)</p>
<p><strong>테스트</strong>: 15+개
- 각 엔드포인트 CRUD, 인증, CORS, rate limit, SSE</p>
<hr />
<h3 id="f5-ai-sdk">F5: AI 플러그인 SDK &amp; 문서화</h3>
<p><strong>우선순위</strong>: High | <strong>복잡도</strong>: Medium | <strong>신규 파일</strong>: 3개</p>
<p>3줄 코드로 기존 AI에 기억 능력을 부여하는 SDK.</p>
<p><strong>요구사항</strong>:
- <strong>Quick Start SDK</strong>:
  <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">stellar_memory</span><span class="w"> </span><span class="kn">import</span> <span class="n">StellarMemory</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1"># 3줄로 AI에 기억 부여</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">memory</span> <span class="o">=</span> <span class="n">StellarMemory</span><span class="p">()</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">memory</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="s2">&quot;사용자가 Python을 선호한다고 말함&quot;</span><span class="p">)</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="n">context</span> <span class="o">=</span> <span class="n">memory</span><span class="o">.</span><span class="n">recall</span><span class="p">(</span><span class="s2">&quot;사용자의 프로그래밍 선호도&quot;</span><span class="p">)</span>
</code></pre></div>
- <strong>AI 프레임워크 어댑터</strong>:
  - <code>LangChainAdapter</code>: LangChain Memory 인터페이스 구현
  - <code>OpenAIPlugin</code>: OpenAI function calling 스키마 제공
  - <code>MCPAdapter</code>: MCP 프로토콜 표준 어댑터 (이미 구현, 정리)
- <strong>Public API 정리</strong>:
  - <code>__init__.py</code>에서 핵심 클래스만 export
  - 내부 모듈은 <code>_</code> prefix로 비공개 표시
  - <code>__all__</code> 리스트 관리
- <strong>문서화</strong>:
  - <code>README.md</code>: 프로젝트 소개, Quick Start, 설치 방법
  - <code>docs/guide/</code>: 사용자 가이드 (getting-started, configuration, api-reference)
  - docstring: 모든 public 메서드에 Google style docstring
  - 사용 예시 코드: <code>examples/</code> 디렉토리</p>
<p><strong>구현 파일</strong>:
- <code>stellar_memory/adapters/langchain.py</code> (LangChain 어댑터)
- <code>stellar_memory/adapters/openai_plugin.py</code> (OpenAI 어댑터)
- <code>stellar_memory/adapters/__init__.py</code>
- <code>stellar_memory/__init__.py</code> (public API 정리)
- <code>README.md</code> (프로젝트 소개)
- <code>examples/quick_start.py</code>
- <code>examples/with_langchain.py</code>
- <code>examples/with_mcp.py</code></p>
<p><strong>테스트</strong>: 10+개
- 어댑터 인터페이스 호환, public API 노출, import 확인</p>
<hr />
<h2 id="3">3. 기술 스택</h2>
<h3 id="31">3.1 기존 기술 (유지)</h3>
<table>
<thead>
<tr>
<th>카테고리</th>
<th>기술</th>
</tr>
</thead>
<tbody>
<tr>
<td>언어</td>
<td>Python 3.10+</td>
</tr>
<tr>
<td>스토리지</td>
<td>SQLite (기본), PostgreSQL+pgvector, Redis</td>
</tr>
<tr>
<td>AI</td>
<td>OpenAI, Ollama, Null (테스트)</td>
</tr>
<tr>
<td>프로토콜</td>
<td>MCP (Model Context Protocol)</td>
</tr>
<tr>
<td>벡터</td>
<td>FAISS, BallTree, BruteForce</td>
</tr>
<tr>
<td>동기화</td>
<td>CRDT LWW-Register, WebSocket</td>
</tr>
<tr>
<td>보안</td>
<td>AES-256-GCM, RBAC, 감사로그</td>
</tr>
</tbody>
</table>
<h3 id="32-p7">3.2 P7 추가 기술</h3>
<table>
<thead>
<tr>
<th>카테고리</th>
<th>기술</th>
<th>용도</th>
</tr>
</thead>
<tbody>
<tr>
<td>서버</td>
<td>FastAPI + Uvicorn</td>
<td>REST API 서버 모드</td>
</tr>
<tr>
<td>패키징</td>
<td>setuptools + pyproject.toml</td>
<td>PyPI 배포</td>
</tr>
<tr>
<td>컨테이너</td>
<td>Docker + docker-compose</td>
<td>원클릭 실행</td>
</tr>
<tr>
<td>감정 분석</td>
<td>LLM 기반 + 규칙 fallback</td>
<td>EmotionAnalyzer</td>
</tr>
<tr>
<td>문서</td>
<td>mkdocs or pdoc</td>
<td>API 레퍼런스 자동 생성</td>
</tr>
<tr>
<td>어댑터</td>
<td>LangChain, OpenAI schema</td>
<td>AI 프레임워크 통합</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="4">4. 구현 순서</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>F1 (감성 기억)  ─→  F2 (타임라인)  ─→  F4 (REST API)
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>                                           │
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>                    F3 (PyPI/Docker) ←──────┤
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>                                           │
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>                    F5 (SDK/문서화)  ←──────┘
</code></pre></div>
<table>
<thead>
<tr>
<th style="text-align: center;">순서</th>
<th>기능</th>
<th>의존성</th>
<th>예상 규모</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1</td>
<td>F1: 감성 기억</td>
<td>없음 (코어 확장)</td>
<td>신규 2파일, 수정 3파일</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td>F2: 타임라인</td>
<td>F1 (감정 데이터 활용)</td>
<td>신규 1파일, 수정 1파일</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td>F4: REST API</td>
<td>F1, F2 (전체 기능 노출)</td>
<td>신규 1파일, 수정 2파일</td>
</tr>
<tr>
<td style="text-align: center;">4</td>
<td>F3: PyPI/Docker</td>
<td>F4 (서버 모드 포함)</td>
<td>신규 3파일, 수정 2파일</td>
</tr>
<tr>
<td style="text-align: center;">5</td>
<td>F5: SDK/문서화</td>
<td>F1~F4 (전체 완성 후)</td>
<td>신규 6+파일, 수정 2파일</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="5">5. 하위 호환성</h2>
<h3 id="51-p1p6">5.1 호환성 원칙 (P1~P6 전통 유지)</h3>
<ul>
<li>기존 420개 테스트 100% 통과 유지</li>
<li><code>StellarMemory</code> 기존 API 변경 없음 (추가만 허용)</li>
<li>감성 기억은 선택적 (기본 비활성, <code>config.emotion.enabled=True</code>로 활성화)</li>
<li>REST API 서버는 별도 진입점 (<code>stellar-memory serve</code>)</li>
<li>모든 P7 기능은 기존 설치에 영향 없음</li>
</ul>
<h3 id="52">5.2 선택적 의존성 확장</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">[project.optional-dependencies]</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c1"># 기존 유지</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="n">postgres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;asyncpg&gt;=0.29&quot;</span><span class="p">]</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">redis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;redis&gt;=5.0&quot;</span><span class="p">]</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="n">security</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;cryptography&gt;=41.0&quot;</span><span class="p">]</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="n">sync</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;websockets&gt;=12.0&quot;</span><span class="p">]</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="n">connectors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;aiohttp&gt;=3.9&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;watchdog&gt;=3.0&quot;</span><span class="p">]</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="n">dashboard</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;fastapi&gt;=0.109&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;uvicorn&gt;=0.27&quot;</span><span class="p">]</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="c1"># P7 신규</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="n">ai</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;openai&gt;=1.0&quot;</span><span class="p">]</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;fastapi&gt;=0.109&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;uvicorn&gt;=0.27&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;python-multipart&gt;=0.0.6&quot;</span><span class="p">]</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="n">adapters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;langchain-core&gt;=0.1&quot;</span><span class="p">]</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="n">full</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;stellar-memory[ai,postgres,redis,security,sync,connectors,dashboard,server,adapters]&quot;</span><span class="p">]</span>
</code></pre></div>
<hr />
<h2 id="6">6. 성공 기준</h2>
<table>
<thead>
<tr>
<th>기준</th>
<th>목표</th>
</tr>
</thead>
<tbody>
<tr>
<td>테스트 수</td>
<td>480+ (현재 420 + 60 신규)</td>
</tr>
<tr>
<td>설계 일치율</td>
<td>90%+</td>
</tr>
<tr>
<td>기존 테스트 통과</td>
<td>420/420 (하위 호환)</td>
</tr>
<tr>
<td>PyPI 설치 가능</td>
<td><code>pip install stellar-memory</code> 성공</td>
</tr>
<tr>
<td>Docker 실행</td>
<td><code>docker run</code> 으로 서버 기동</td>
</tr>
<tr>
<td>REST API 동작</td>
<td>store/recall/forget/timeline 엔드포인트</td>
</tr>
<tr>
<td>3줄 Quick Start</td>
<td>코드 3줄로 기억 저장/검색 가능</td>
</tr>
<tr>
<td>LangChain 호환</td>
<td>LangChain Memory 인터페이스 구현</td>
</tr>
<tr>
<td>감정 기반 검색</td>
<td><code>recall(query, emotion="joy")</code> 동작</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="7">7. 리스크 및 완화</h2>
<table>
<thead>
<tr>
<th>리스크</th>
<th>영향</th>
<th>완화 방안</th>
</tr>
</thead>
<tbody>
<tr>
<td>감정 분석 정확도</td>
<td>Medium</td>
<td>LLM + 규칙 기반 이중 분석, fallback</td>
</tr>
<tr>
<td>PyPI 패키지 충돌</td>
<td>Low</td>
<td>선택적 의존성으로 최소 코어 유지</td>
</tr>
<tr>
<td>REST API 보안</td>
<td>High</td>
<td>API 키 인증, Rate Limiting, CORS</td>
</tr>
<tr>
<td>Docker 이미지 크기</td>
<td>Low</td>
<td>Multi-stage build, slim 베이스</td>
</tr>
<tr>
<td>LangChain 버전 호환</td>
<td>Medium</td>
<td>langchain-core만 의존, 최소 인터페이스</td>
</tr>
<tr>
<td>기존 API 깨짐</td>
<td>Critical</td>
<td>420 테스트 회귀 방지, 추가만 허용</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="8">8. 예상 산출물</h2>
<table>
<thead>
<tr>
<th>항목</th>
<th>수량</th>
</tr>
</thead>
<tbody>
<tr>
<td>신규 소스 파일</td>
<td>8~10개</td>
</tr>
<tr>
<td>수정 소스 파일</td>
<td>6~8개</td>
</tr>
<tr>
<td>신규 테스트</td>
<td>60+개</td>
</tr>
<tr>
<td>목표 총 테스트</td>
<td>480+개</td>
</tr>
<tr>
<td>문서 파일</td>
<td>4+개 (README, 가이드, 예시)</td>
</tr>
<tr>
<td>설정 파일</td>
<td>3개 (Dockerfile, docker-compose, .dockerignore)</td>
</tr>
<tr>
<td>목표 버전</td>
<td>v0.8.0</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["content.code.copy", "navigation.sections", "search.suggest", "navigation.top"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>